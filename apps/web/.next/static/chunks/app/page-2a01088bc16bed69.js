(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6035:function(e,t,s){Promise.resolve().then(s.bind(s,4972))},4972:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return HomePage}});var a=s(7647),r=s(4423),l=s(5104),i=s(6325),n=s(1069),c=s(668),d=s(9329);function cn(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,d.m6)((0,c.W)(t))}function formatCurrency(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}function formatDate(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e))}function Button(e){let{className:t,variant:s="primary",size:r="md",loading:l=!1,disabled:i,children:n,...c}=e;return(0,a.jsxs)("button",{className:cn("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700":"primary"===s,"bg-gray-600 text-white hover:bg-gray-700":"secondary"===s,"border border-gray-300 bg-white hover:bg-gray-50 text-gray-900":"outline"===s,"hover:bg-gray-100 text-gray-900":"ghost"===s},{"h-9 px-3 text-sm":"sm"===r,"h-10 px-4 py-2":"md"===r,"h-11 px-8 text-lg":"lg"===r},t),disabled:i||l,...c,children:[l&&(0,a.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}function SearchBar(e){var t,s;let{onSearch:c,loading:d=!1,initialQuery:o="",brands:m=[]}=e,[x,h]=(0,r.useState)(o),[u,g]=(0,r.useState)(!1),[p,v]=(0,r.useState)({query:o,brands:[],price_min:void 0,price_max:void 0,sort_by:"created_at"}),b=(null===(t=p.brands)||void 0===t?void 0:t.length)||p.price_min||p.price_max;return(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto space-y-4",children:[(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),c({...p,query:x})},className:"relative",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Search for gadgets, brands, or features...",value:x,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-24 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-2",children:[(0,a.jsxs)(Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(!u),className:b?"text-blue-600":"",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),b&&(0,a.jsx)("span",{className:"ml-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:((null===(s=p.brands)||void 0===s?void 0:s.length)||0)+(p.price_min?1:0)+(p.price_max?1:0)})]}),(0,a.jsx)(Button,{type:"submit",loading:d,size:"sm",children:"Search"})]})]})}),u&&(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Filters"}),b&&(0,a.jsxs)(Button,{variant:"ghost",size:"sm",onClick:()=>{let e={query:"",brands:[],price_min:void 0,price_max:void 0,sort_by:"created_at"};v(e),h(""),c(e)},children:[(0,a.jsx)(n.Z,{className:"h-4 w-4 mr-1"}),"Clear all"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brands"}),(0,a.jsx)("select",{multiple:!0,value:p.brands||[],onChange:e=>{let t=Array.from(e.target.selectedOptions,e=>e.value);v({...p,brands:t})},className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:m.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"number",placeholder:"Min $",value:p.price_min||"",onChange:e=>v({...p,price_min:e.target.value?parseInt(e.target.value):void 0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"}),(0,a.jsx)("input",{type:"number",placeholder:"Max $",value:p.price_max||"",onChange:e=>v({...p,price_max:e.target.value?parseInt(e.target.value):void 0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),(0,a.jsxs)("select",{value:p.sort_by||"created_at",onChange:e=>v({...p,sort_by:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"created_at",children:"Newest"}),(0,a.jsx)("option",{value:"name",children:"Name"}),(0,a.jsx)("option",{value:"price_asc",children:"Price: Low to High"}),(0,a.jsx)("option",{value:"price_desc",children:"Price: High to Low"}),(0,a.jsx)("option",{value:"rating",children:"Rating"})]})]})]})]})]})}var o=s(5767),m=s.n(o),x=s(7073),h=s(6369),u=s(5204);function GadgetCard(e){var t,s;let{gadget:r,onSave:l,isSaved:i=!1,showFullDetails:n=!1}=e,c=r.reviews&&r.reviews.length>0?r.reviews.reduce((e,t)=>e+(t.rating||0),0)/r.reviews.length:null;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,a.jsxs)("div",{className:"relative h-48 w-full",children:[r.image_url?(0,a.jsx)(m(),{src:r.image_url,alt:r.name,fill:!0,className:"object-cover rounded-t-lg",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}):(0,a.jsx)("div",{className:"h-full w-full bg-gray-100 rounded-t-lg flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-gray-400 text-lg",children:"No Image"})}),l&&(0,a.jsx)("button",{onClick:()=>{l&&l(r.id,i?"unsave":"save")},className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:shadow-lg transition-shadow",title:i?"Remove from saved":"Save gadget",children:(0,a.jsx)(x.Z,{className:"h-4 w-4 ".concat(i?"fill-red-500 text-red-500":"text-gray-400")})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-gray-900 line-clamp-1",children:r.name}),r.brand&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:r.brand})]}),c&&(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(h.Z,{className:"h-4 w-4 ".concat(t<Math.round(c)?"text-yellow-400 fill-current":"text-gray-300")},t))}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:[c.toFixed(1)," (",null===(t=r.reviews)||void 0===t?void 0:t.length," reviews)"]})]}),r.price&&(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsx)("span",{className:"text-2xl font-bold text-green-600",children:formatCurrency(r.price)})}),r.specs&&n&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-gray-700 mb-1",children:"Key Specs:"}),(0,a.jsx)("div",{className:"space-y-1",children:Object.entries(r.specs).slice(0,3).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600 capitalize",children:[t.replace("_"," "),":"]}),(0,a.jsx)("span",{className:"text-gray-900 font-medium",children:s})]},t)})})]}),r.reviews&&r.reviews.length>0&&n&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"Recent Review:"}),(0,a.jsxs)("p",{className:"text-sm text-gray-800 line-clamp-2",children:['"',null===(s=r.reviews[0].content)||void 0===s?void 0:s.slice(0,100),'..."']}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["- ",r.reviews[0].author||"Anonymous"," â€¢ ",formatDate(r.reviews[0].created_at)]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(Button,{variant:"primary",size:"sm",className:"flex-1 mr-2",children:"View Details"}),r.link&&(0,a.jsxs)(Button,{variant:"outline",size:"sm",onClick:()=>window.open(r.link,"_blank"),className:"flex items-center",children:[(0,a.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),"Buy"]})]}),(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Added ",formatDate(r.created_at)]})]})]})}var g=s(5857);let ApiService=class ApiService{async getGadgets(e){let{data:t}=await this.client.get("/api/gadgets",{params:e});return t}async getGadget(e){let{data:t}=await this.client.get("/api/gadgets/".concat(e));return t}async getBrands(){let{data:e}=await this.client.get("/api/gadgets/meta/brands");return e}async signIn(e,t){let{data:s}=await this.client.post("/api/auth/signin",{email:e,password:t});return s}async signUp(e,t){let{data:s}=await this.client.post("/api/auth/signup",{email:e,password:t});return s}async sendMagicLink(e,t){let{data:s}=await this.client.post("/api/auth/magic-link",{email:e,redirectTo:t});return s}async signOut(){let{data:e}=await this.client.post("/api/auth/signout");return e}async getCurrentUser(){let{data:e}=await this.client.get("/api/auth/user");return e}async createRecommendation(e){let{data:t}=await this.client.post("/api/recommendations",e);return t}async getRecommendations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{data:s}=await this.client.get("/api/recommendations",{params:{limit:e,offset:t}});return s}async getRecommendation(e){let{data:t}=await this.client.get("/api/recommendations/".concat(e));return t}async getUserProfile(){let{data:e}=await this.client.get("/api/users/profile");return e}async updateUserProfile(e){let{data:t}=await this.client.put("/api/users/profile",e);return t}async getUserPreferences(){let{data:e}=await this.client.get("/api/users/preferences");return e}async updateUserPreferences(e){let{data:t}=await this.client.put("/api/users/preferences",e);return t}async saveGadget(e,t){let{data:s}=await this.client.post("/api/users/save-gadget",{gadget_id:e,action:t});return s}async submitFeedback(e){let{data:t}=await this.client.post("/api/feedback",e);return t}async getFeedback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{data:s}=await this.client.get("/api/feedback",{params:{limit:e,offset:t}});return s}async healthCheck(){let{data:e}=await this.client.get("/health");return e}constructor(){this.client=g.Z.create({baseURL:"http://localhost:3002",headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{let t=localStorage.getItem("supabase.auth.token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),this.client.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(window.location.href="/auth/signin"),Promise.reject(e)})}};let p=new ApiService;var v=s(4705),b=s(6692),y=s(4245);function HomePage(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{let loadInitialData=async()=>{try{l(!0);let[e,s]=await Promise.all([p.getGadgets({limit:6}),p.getBrands()]);t(e.data),n(s.data||[])}catch(e){console.error("Failed to load initial data:",e)}finally{l(!1)}};loadInitialData()},[]);let handleSearch=async e=>{try{l(!0);let t=await p.getGadgets(e);m(t),d(!0)}catch(e){console.error("Search failed:",e)}finally{l(!1)}},handleSaveGadget=async(e,t)=>{try{await p.saveGadget(e,t),console.log("Gadget ".concat(t,"d successfully"))}catch(e){console.error("Failed to ".concat(t," gadget:"),e)}},x=c?(null==o?void 0:o.data)||[]:e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("section",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white py-20",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,a.jsx)(v.Z,{className:"h-8 w-8 mr-2"}),(0,a.jsx)("h1",{className:"text-5xl font-bold",children:"GadgetGuru"})]}),(0,a.jsx)("p",{className:"text-xl mb-8 text-blue-100",children:"Find Your Perfect Gadget with AI-Powered Recommendations"}),(0,a.jsx)("p",{className:"text-lg mb-12 text-blue-200 max-w-2xl mx-auto",children:"Get personalized recommendations based on real reviews, detailed specs, and performance benchmarks. Our AI analyzes thousands of data points to help you make the perfect choice."}),(0,a.jsx)(SearchBar,{onSearch:handleSearch,loading:s,brands:i})]})})}),(0,a.jsx)("main",{className:"container mx-auto px-4 py-12",children:c?(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Search Results"}),o&&(0,a.jsxs)("p",{className:"text-gray-600",children:[o.total," gadgets found"]})]}),x.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,a.jsx)(GadgetCard,{gadget:e,onSave:handleSaveGadget,showFullDetails:!0},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-gray-400 text-lg mb-4",children:"No gadgets found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search filters"})]}),o&&o.hasMore&&(0,a.jsx)("div",{className:"text-center mt-8",children:(0,a.jsx)(Button,{variant:"outline",size:"lg",children:"Load More Results"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"mb-16",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose GadgetGuru?"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Our AI-powered platform provides comprehensive gadget insights you won't find anywhere else"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)("div",{className:"bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(v.Z,{className:"h-8 w-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"AI-Powered Analysis"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Our GPT-4 powered system analyzes reviews, specs, and benchmarks to provide personalized recommendations"})]}),(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)("div",{className:"bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(b.Z,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Real-Time Data"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Live data from Amazon, Reddit, YouTube, and benchmark sites ensures you get the latest insights"})]}),(0,a.jsxs)("div",{className:"text-center p-6",children:[(0,a.jsx)("div",{className:"bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(y.Z,{className:"h-8 w-8 text-purple-600"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Expert Insights"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Comprehensive analysis including pros, cons, performance scores, and alternative suggestions"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Featured Gadgets"}),(0,a.jsx)(Button,{variant:"outline",children:"View All Gadgets"})]}),s?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 animate-pulse",children:[(0,a.jsx)("div",{className:"bg-gray-200 h-48 rounded mb-4"}),(0,a.jsx)("div",{className:"bg-gray-200 h-4 rounded mb-2"}),(0,a.jsx)("div",{className:"bg-gray-200 h-4 rounded w-2/3"})]},t))}):x.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>(0,a.jsx)(GadgetCard,{gadget:e,onSave:handleSaveGadget,showFullDetails:!0},e.id))}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("div",{className:"text-gray-400 text-lg",children:"No gadgets available"})})]})]})}),(0,a.jsx)("section",{className:"bg-gray-900 text-white py-16",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Find Your Perfect Gadget?"}),(0,a.jsx)("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of users who trust GadgetGuru for smart gadget recommendations"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsx)(Button,{size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:"Get AI Recommendation"}),(0,a.jsx)(Button,{variant:"outline",size:"lg",className:"text-white border-white hover:bg-white hover:text-gray-900",children:"Browse All Gadgets"})]})]})})]})}}},function(e){e.O(0,[55,181,385,744],function(){return e(e.s=6035)}),_N_E=e.O()}]);